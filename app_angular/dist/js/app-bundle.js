angular.module("myApp",["ui.bootstrap","ui.bootstrap.datetimepicker"]).constant("CONSTS",{TIMEFILTER:{ALL:0,FINISHED:1,NEXT:2}}),function(){"use strict";function e(e){var t=this;e.nextCall={},e.callList=[{name:"Sam Tailor",phone:"00420 121 242 343",time:1288323623006},{name:"Tom Henks",phone:"00420 121 242 555",time:1248329626002}],t.render=function(){var n=localStorage.getItem("list");n&&(e.callList=angular.fromJson(n),t.findNextCall())},t.saveData=function(n){e.callList.push(n),t.updateData()},t.removeItem=function(n){_.remove(e.callList,{time:n}),t.updateData()},t.updateData=function(){localStorage.setItem("list",angular.toJson(e.callList)),t.findNextCall()},t.findNextCall=function(){var t,n=e.callList,a=(new Date).getTime();t=_.sortBy(n,"time"),t=_.find(t,function(e){return e.time>=a}),e.nextCall=t},t.render()}angular.module("myApp").controller("MainController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"js/directives/addCall/tpl.html",controller:"MainController",link:function(e,t,n,a){e.name="",e.nameMaxLength=30,e.phone="",e.phonePattern="(\\+|00)(\\(?\\d{3}\\)?-?)(\\s?\\d{3}){3}",e.time=null,e.timePickerIsOpen=!1,e.timePattern="([01]\\d|2[0-3]):?([0-5]\\d)",e.timeOptions={defaultTime:"11:00:22","readonly-input":!0},e.dateOptions={initDate:new Date},e.openCalendar=function(){e.timePickerIsOpen=!0},e.$watch(function(){return e.time},function(t,n){if(null==n&&t){var a=t,l=new Date;l.setHours(a.getHours()),l.setMinutes(a.getMinutes()),e.time=l}}),e.addCall=function(){var t={};e.name&&e.phone&&e.time&&(e.phone=e.convertPhone(e.phone),t={name:e.name,phone:e.phone,time:e.time.getTime()},a.saveData(t),e.reset())},e.reset=function(){e.name="",e.phone="",e.time="",e.addCallForm.$setPristine(),e.addCallForm.$setValidity(),e.addCallForm.$setUntouched()},e.convertPhone=function(e){var t=e;return t=t.replace(/\(|\)|-| /g,""),t=t.replace(/\+/g,"00"),t.slice(0,5)+" "+t.slice(5,8)+" "+t.slice(8,11)+" "+t.slice(11)}}}}angular.module("myApp").directive("addCallForm",e)}(),function(){"use strict";function e(e){return{restrict:"E",templateUrl:"js/directives/callList/tpl.html",link:function(t){t.predicate="time",t.reverse=!1,t.order=function(e){t.reverse=t.predicate===e&&!t.reverse,t.predicate=e},t.timeInPast=function(e){var t=(new Date).getTime();return e<=t},t.timeFilter=e.TIMEFILTER.ALL,t.setTimeFilter=function(e){t.timeFilter=e},t.toogleView=function(n){var a=(new Date).getTime(),l=t.timeFilter;return!(l===e.TIMEFILTER.FINISHED&&n>=a||l===e.TIMEFILTER.NEXT&&n<a)}}}}angular.module("myApp").directive("callList",e),e.$inject=["CONSTS"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"js/directives/nextCall/tpl.html"}}angular.module("myApp").directive("nextCall",e)}(),angular.module("myApp").run(["$templateCache",function(e){e.put("js/directives/addCall/tpl.html",'<div class="item add-item">\n    <h3 class="text-center">Add call</h3>\n    <form name="addCallForm" data-ng-submit="addCall()" novalidate>\n        <div class="wrapper row">\n            <div class="form-group col-md-4">\n                <label class="sr-only" for="field-2-1">Name *</label>\n                <input type="text" name="userName" class="form-control" ng-model="name" placeholder="Name" ng-maxlength="nameMaxLength" required>\n                <span class="error-message" ng-show="addCallForm.$submitted || addCallForm.userName.$touched">\n                    <span ng-show="addCallForm.userName.$error.maxlength">Name should not be longer than {{nameMaxLength}}</span>\n                <span ng-show="addCallForm.userName.$error.required">Enter contact name</span>\n                </span>\n            </div>\n            <div class="form-group col-md-5">\n                <label class="sr-only" for="field-2-2">Phone *</label>\n                <input type="text" name="userPhone" class="form-control" ng-model="phone" placeholder="Phone" ng-pattern="phonePattern" required>\n                <span class="error-message" ng-show="addCallForm.$submitted || addCallForm.userPhone.$touched">\n                    <span ng-show="addCallForm.userPhone.$error.pattern">Example of correct phone: <br>+(420) 111 222 333</span>\n                <span ng-show="addCallForm.userPhone.$error.required">Enter phone</span>\n                </span>\n            </div>\n            <div class="form-group col-md-3">\n                <label class="sr-only" for="timepicker">Time *</label>\n                <input type="text" name="userTime" class="form-control" id="timepicker" placeholder="Time" ng-model="time" ng-pattern="timePattern"\n                    datetime-picker="HH:mm" is-open="timePickerIsOpen" enable-date="false" timepicker-options="timeOptions" close-on-selection="true"\n                    ng-click="openCalendar()" required>\n                <span class="error-message" ng-show="addCallForm.$submitted || addCallForm.userTime.$touched">\n                    <span ng-show="addCallForm.userTime.$error.datetime">Exaple of correct time: 21:45</span>\n                    <span ng-show="addCallForm.userTime.$error.required">Enter time</span>\n                </span>\n            </div>\n        </div>\n        <p class="text-right">\n            <input type="submit" class="btn btn-default" value="+ add" id="add-button">\n        </p>\n    </form>\n</div>'),e.put("js/directives/callList/tpl.html",'<div class="item list-item">\n    <h3 class="text-center">List of calls</h3>\n    <table class="table table-bordered table-hover">\n        <thead>\n            <tr class="active">\n                <th ng-click="order(\'name\')">\n                    Name\n                    <span class="sortorder" ng-show="predicate === \'name\'" ng-class="{reverse:reverse}"></span>\n                </th>\n                <th>Phone Number</th>\n                <th ng-click="order(\'time\')">\n                    Time\n                    <span class="sortorder" ng-show="predicate === \'time\'" ng-class="{reverse:reverse}"></span>\n                </th>\n                <th>Action</th>\n                <th>Finished</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr ng-repeat="item in callList | orderBy:predicate:reverse track by $index" ng-show="toogleView(item.time)">\n                <td>{{item.name}}</td>\n                <td>{{item.phone}}</td>\n                <td>{{item.time | date:\'HH:mm\'}}</td>\n                <td><a href="" ng-click="MainCtrl.removeItem(item.time)">delete</a></td>\n                <td><input type="checkbox" name="viwed" ng-checked="timeInPast(item.time)" disabled ></td>\n            </tr>\n        </tbody>\n    </table>\n    <p class="text-center">\n        <a class="btn btn-default" href="" role="button" title="all" ng-click="setTimeFilter(\'all\')">All</a>\n        <a class="btn btn-default" href="" role="button" title="next" ng-click="setTimeFilter(\'next\')">Next</a>\n        <a class="btn btn-default" href="" role="button" title="finished" ng-click="setTimeFilter(\'finished\')">Finished</a>\n    </p>\n</div>'),e.put("js/directives/nextCall/tpl.html",'<div class="item next-item">\n    <h3 class="text-center">Next call</h3>\n    <form>\n        <div class="row">\n            <div class="form-group col-md-4">\n                <label class="sr-only" for="field-1-1">Name</label>\n                <input type="text" name="user-name" class="form-control" id="field-1-1" value="{{nextCall.name}}" placeholder="Name" readonly>\n            </div>\n            <div class="form-group col-md-5">\n                <label class="sr-only" for="field-1-2">Phone</label>\n                <input type="text" name="user-phone" class="form-control" id="field-1-2" value="{{nextCall.phone}}" placeholder="Phone" readonly>\n            </div>\n            <div class="form-group col-md-3">\n                <label class="sr-only" for="field-1-3">Time</label>\n                <input type="text" name="user-time" class="form-control" id="field-1-3" value="{{nextCall.time | date:\'HH:mm\'}}" placeholder="Time" readonly>\n            </div>\n        </div>\n    </form>\n\n</div>')}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsIm1haW4uanMiLCJhZGRDYWxsL3NjcmlwdC5qcyIsImNhbGxMaXN0L3NjcmlwdC5qcyIsIm5leHRDYWxsL3NjcmlwdC5qcyIsImpzL2FwcC1idW5kbGUuanMiLCJ0ZW1wbGF0ZXMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwiVElNRUZJTFRFUiIsIkFMTCIsIkZJTklTSEVEIiwiTkVYVCIsIk1haW5Db250cm9sbGVyIiwiJHNjb3BlIiwidm0iLCJ0aGlzIiwibmV4dENhbGwiLCJjYWxsTGlzdCIsIm5hbWUiLCJwaG9uZSIsInRpbWUiLCJyZW5kZXIiLCJsb2NhbERhdGEiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZnJvbUpzb24iLCJmaW5kTmV4dENhbGwiLCJzYXZlRGF0YSIsImVudHJ5IiwicHVzaCIsInVwZGF0ZURhdGEiLCJyZW1vdmVJdGVtIiwiXyIsInJlbW92ZSIsInNldEl0ZW0iLCJ0b0pzb24iLCJyZXN1bHQiLCJhbGxEYXRhIiwiY3VycmVudFRpbWUiLCJEYXRlIiwiZ2V0VGltZSIsInNvcnRCeSIsImZpbmQiLCJpdGVtIiwiY29udHJvbGxlciIsIiRpbmplY3QiLCJhZGRDYWxsRm9ybSIsInJlc3RyaWN0IiwidGVtcGxhdGVVcmwiLCJsaW5rIiwiZWxlbWVudCIsImF0dHJzIiwiY3RybCIsIm5hbWVNYXhMZW5ndGgiLCJwaG9uZVBhdHRlcm4iLCJ0aW1lUGlja2VySXNPcGVuIiwidGltZVBhdHRlcm4iLCJ0aW1lT3B0aW9ucyIsImRlZmF1bHRUaW1lIiwicmVhZG9ubHktaW5wdXQiLCJkYXRlT3B0aW9ucyIsImluaXREYXRlIiwib3BlbkNhbGVuZGFyIiwiJHdhdGNoIiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsImRhdGUiLCJ0b2RheSIsInNldEhvdXJzIiwiZ2V0SG91cnMiLCJzZXRNaW51dGVzIiwiZ2V0TWludXRlcyIsImFkZENhbGwiLCJuZXdDYWxsIiwiY29udmVydFBob25lIiwicmVzZXQiLCIkc2V0UHJpc3RpbmUiLCIkc2V0VmFsaWRpdHkiLCIkc2V0VW50b3VjaGVkIiwicGhvbmVfbnVtYmVyIiwicmVwbGFjZSIsInNsaWNlIiwiZGlyZWN0aXZlIiwiY2FsbExpc3REaXJlY3RpdmUiLCJDT05TVFMiLCJwcmVkaWNhdGUiLCJyZXZlcnNlIiwib3JkZXIiLCJ0aW1lSW5QYXN0IiwidGltZUZpbHRlciIsInNldFRpbWVGaWx0ZXIiLCJ2YWx1ZSIsInRvb2dsZVZpZXciLCJydW4iLCIkdGVtcGxhdGVDYWNoZSIsInB1dCJdLCJtYXBwaW5ncyI6IkFBQ0FBLFFBQ0FDLE9BQUEsU0FBQSxlQUFBLGdDQUNBQyxTQUFBLFVBQ0FDLFlBQ0FDLElBQUEsRUFDQUMsU0FBQSxFQUNBQyxLQUFBLEtDUEEsV0FDQSxZQU9BLFNBQUFDLEdBQUFDLEdBRUEsR0FBQUMsR0FBQUMsSUFDQUYsR0FBQUcsWUFDQUgsRUFBQUksV0FFQUMsS0FBQSxhQUNBQyxNQUFBLG9CQUNBQyxLQUFBLGdCQUdBRixLQUFBLFlBQ0FDLE1BQUEsb0JBQ0FDLEtBQUEsZ0JBR0FOLEVBQUFPLE9BQUEsV0FDQSxHQUFBQyxHQUFBQyxhQUFBQyxRQUFBLE9BQ0FGLEtBQ0FULEVBQUFJLFNBQUFaLFFBQUFvQixTQUFBSCxHQUNBUixFQUFBWSxpQkFHQVosRUFBQWEsU0FBQSxTQUFBQyxHQUNBZixFQUFBSSxTQUFBWSxLQUFBRCxHQUNBZCxFQUFBZ0IsY0FFQWhCLEVBQUFpQixXQUFBLFNBQUFYLEdBRUFZLEVBQUFDLE9BQUFwQixFQUFBSSxVQUFBRyxLQUFBQSxJQUNBTixFQUFBZ0IsY0FFQWhCLEVBQUFnQixXQUFBLFdBQ0FQLGFBQUFXLFFBQUEsT0FBQTdCLFFBQUE4QixPQUFBdEIsRUFBQUksV0FDQUgsRUFBQVksZ0JBRUFaLEVBQUFZLGFBQUEsV0FDQSxHQUNBVSxHQURBQyxFQUFBeEIsRUFBQUksU0FFQXFCLEdBQUEsR0FBQUMsT0FBQUMsU0FFQUosR0FBQUosRUFBQVMsT0FBQUosRUFBQSxRQUNBRCxFQUFBSixFQUFB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QyxHQUVBQSxFQUFBdEMsU0FBQSxhQ1BBLFdBQ0EsWUFNQSxTQUFBN0IsS0FDQSxPQUNBK0IsU0FBQSxJQUNBQyxZQUFBLG1DQVBBM0MsUUFDQUMsT0FBQSxTQUNBNEUsVUFBQSxXQUFBbEUsTUN1TkFYLFFBQVFDLE9BQU8sU0FBU3VGLEtBQUssaUJBQWtCLFNBQVNDLEdDNU54REEsRUFBQUMsSUFBQSxpQ0FBQSwrNkVBQ0FELEVBQUFDLElBQUEsa0NBQUEsa3BEQUNBRCxFQUFBQyxJQUFBLGtDQUFBIiwiZmlsZSI6ImpzL2FwcC1idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzZXQgYW5ndWxhciBtb2R1bGUgYW5kIGRlcGVuZGVuY3lcbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdteUFwcCcsIFsndWkuYm9vdHN0cmFwJywgJ3VpLmJvb3RzdHJhcC5kYXRldGltZXBpY2tlciddKVxuICAgIC5jb25zdGFudCgnQ09OU1RTJywge1xuICAgICAgICBUSU1FRklMVEVSOiB7XG4gICAgICAgICAgICBBTEw6IDAsXG4gICAgICAgICAgICBGSU5JU0hFRDogMSxcbiAgICAgICAgICAgIE5FWFQ6IDJcbiAgICAgICAgfVxuICAgIH0pO1xuXG5cbiIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdteUFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdNYWluQ29udHJvbGxlcicsIE1haW5Db250cm9sbGVyKVxuICAgICAgICBcbiAgICAgICAgTWFpbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJ11cbiAgICAgICAgZnVuY3Rpb24gTWFpbkNvbnRyb2xsZXIoJHNjb3BlKSB7XG5cbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgICAgICAkc2NvcGUubmV4dENhbGwgPSB7fTtcbiAgICAgICAgICAgICRzY29wZS5jYWxsTGlzdCA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTYW0gVGFpbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgcGhvbmU6ICcwMDQyMCAxMjEgMjQyIDM0MycsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IDEyODgzMjM2MjMwMDZcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1RvbSBIZW5rcycsXG4gICAgICAgICAgICAgICAgICAgIHBob25lOiAnMDA0MjAgMTIxIDI0MiA1NTUnLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiAxMjQ4MzI5NjI2MDAyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHZtLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbG9jYWxEYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xpc3QnKTtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jYWxsTGlzdCA9IGFuZ3VsYXIuZnJvbUpzb24obG9jYWxEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdm0uZmluZE5leHRDYWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdm0uc2F2ZURhdGEgPSBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2FsbExpc3QucHVzaChlbnRyeSk7XG4gICAgICAgICAgICAgICAgdm0udXBkYXRlRGF0YSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdm0ucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGJ5IHRpbWUgYmVjb3VzZSBpdCBpcyB1bmlxdWUgZm9yIGVhY2ggZGF0YSBpdGVtXG4gICAgICAgICAgICAgICAgXy5yZW1vdmUoJHNjb3BlLmNhbGxMaXN0LCB7ICd0aW1lJzogdGltZSB9KTtcbiAgICAgICAgICAgICAgICB2bS51cGRhdGVEYXRhKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdm0udXBkYXRlRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGlzdCcsIGFuZ3VsYXIudG9Kc29uKCRzY29wZS5jYWxsTGlzdCkpO1xuICAgICAgICAgICAgICAgIHZtLmZpbmROZXh0Q2FsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdm0uZmluZE5leHRDYWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhbGxEYXRhID0gJHNjb3BlLmNhbGxMaXN0LFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgICAgICByZXN1bHQgPSBfLnNvcnRCeShhbGxEYXRhLCAndGltZScpOyAvLyBmaXJzdGx5IHNvcnQgYWxsIGRhdGEgYnkgdGltZVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF8uZmluZChyZXN1bHQsIGZ1bmN0aW9uIChpdGVtKSB7ICAvLyB0aGVuIGZpbmQgZmlyc3QgbmVhciBmdXR1cmUgaXRlbVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS50aW1lID49IGN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5leHRDYWxsID0gcmVzdWx0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpbml0IGFwcFxuICAgICAgICAgICAgdm0ucmVuZGVyKCk7XG4gICAgICAgIH1cblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbXlBcHAnKVxuICAgICAgICAuZGlyZWN0aXZlKCdhZGRDYWxsRm9ybScsIGFkZENhbGxGb3JtKTtcblxuICAgIGZ1bmN0aW9uIGFkZENhbGxGb3JtKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvZGlyZWN0aXZlcy9hZGRDYWxsL3RwbC5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdNYWluQ29udHJvbGxlcicsXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoJHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5uYW1lID0gJyc7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVNYXhMZW5ndGggPSAzMDtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGhvbmUgPSAnJztcbiAgICAgICAgICAgICAgICAkc2NvcGUucGhvbmVQYXR0ZXJuID0gJyhcXFxcK3wwMCkoXFxcXCg/XFxcXGR7M31cXFxcKT8tPykoXFxcXHM/XFxcXGR7M30pezN9JztcblxuICAgICAgICAgICAgICAgIC8vIHRpbWVQaWNrZXIgcGFyYW1zXG4gICAgICAgICAgICAgICAgJHNjb3BlLnRpbWUgPSBudWxsO1xuICAgICAgICAgICAgICAgICRzY29wZS50aW1lUGlja2VySXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRpbWVQYXR0ZXJuID0gJyhbMDFdXFxcXGR8MlswLTNdKTo/KFswLTVdXFxcXGQpJztcbiAgICAgICAgICAgICAgICAkc2NvcGUudGltZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRUaW1lOiAnMTE6MDA6MjInLFxuICAgICAgICAgICAgICAgICAgICAncmVhZG9ubHktaW5wdXQnOiB0cnVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGluaXREYXRlOiBuZXcgRGF0ZSgpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BlbkNhbGVuZGFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGltZVBpY2tlcklzT3BlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBhZGQgd2F0Y2hlciB0byBzb2x2ZSBwcm9ibGVtIHdpdGggaW5jb3JlY3QgdGltZSwgYW5kIHNldCBhbHdheXMgdG9kYXkgZGF0ZVxuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gJHNjb3BlLnRpbWU7IH0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PSBudWxsICYmIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBvbGRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvZGF5LnNldEhvdXJzKGRhdGUuZ2V0SG91cnMoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9kYXkuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGltZSA9IHRvZGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvL2VuZCB0aW1lUGlja2VyIHBhcmFtc1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZENhbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdDYWxsID0ge307XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5uYW1lICYmICRzY29wZS5waG9uZSAmJiAkc2NvcGUudGltZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGhvbmUgPSAkc2NvcGUuY29udmVydFBob25lKCRzY29wZS5waG9uZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NhbGwgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmU6ICRzY29wZS5waG9uZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiAkc2NvcGUudGltZS5nZXRUaW1lKCkgLy9wYXJzZSBkYXRlIHRvIHN0b3JlIGluIG1pbGlzZWNvbmRzXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnNhdmVEYXRhKG5ld0NhbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vcmVzZXQgZmllbGRzIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBob25lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS50aW1lID0gJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgLy9yZXNldCBmb3JtIHZhbGlkYXRpb25cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZENhbGxGb3JtLiRzZXRQcmlzdGluZSgpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkQ2FsbEZvcm0uJHNldFZhbGlkaXR5KCk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRDYWxsRm9ybS4kc2V0VW50b3VjaGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvbnZlcnRQaG9uZSA9IGZ1bmN0aW9uIChwaG9uZV9udW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHBob25lX251bWJlcjtcblxuICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgdG8gdGhpcyBsaW5lIDAwWFhYIFhYWCBYWFggWFhYXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC9cXCh8XFwpfC18IC9nLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1xcKy9nLCBcIjAwXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQuc2xpY2UoMCwgNSkgKyAnICcgKyByZXN1bHQuc2xpY2UoNSwgOCkgKyAnICcgKyByZXN1bHQuc2xpY2UoOCwgMTEpICsgJyAnICsgcmVzdWx0LnNsaWNlKDExKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdteUFwcCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2NhbGxMaXN0JywgY2FsbExpc3REaXJlY3RpdmUpO1xuICAgICAgICBcbiAgICAgICAgY2FsbExpc3REaXJlY3RpdmUuJGluamVjdCA9IFsnQ09OU1RTJ107XG4gICAgICAgIGZ1bmN0aW9uIGNhbGxMaXN0RGlyZWN0aXZlKENPTlNUUyl7XG4gICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvZGlyZWN0aXZlcy9jYWxsTGlzdC90cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKCRzY29wZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wcmVkaWNhdGUgPSAndGltZSc7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5vcmRlciA9IGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gKCRzY29wZS5wcmVkaWNhdGUgPT09IHByZWRpY2F0ZSkgJiYgISRzY29wZS5yZXZlcnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGltZUluUGFzdCA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRpbWUgPD0gY3VycmVudFRpbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyB0aW1lVmlld0ZpbHRlclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGltZUZpbHRlciA9IENPTlNUUy5USU1FRklMVEVSLkFMTDsgLy8gYWxzbyBjYW4gYmUgZnV0dXJlIG9yIHBhc3RcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldFRpbWVGaWx0ZXIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50aW1lRmlsdGVyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS50b29nbGVWaWV3ID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVGaWx0ZXIgPSAkc2NvcGUudGltZUZpbHRlcjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEoKHRpbWVGaWx0ZXIgPT09IENPTlNUUy5USU1FRklMVEVSLkZJTklTSEVEICYmIHRpbWUgPj0gY3VycmVudFRpbWUpIHx8IC8vIGZvciBmaW5pc2hlZCBmaWx0ZXIgd2UgaGlkZSBmdXR1cmUgaXRlbXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGltZUZpbHRlciA9PT0gQ09OU1RTLlRJTUVGSUxURVIuTkVYVCAmJiB0aW1lIDwgY3VycmVudFRpbWUpKSAgLy8gZm9yIG5leHQgZmlsdGVyIHdlIHdpbGwgZG8gcmV2ZXJ0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ215QXBwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnbmV4dENhbGwnLCBuZXh0Q2FsbCk7XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBuZXh0Q2FsbCgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL2RpcmVjdGl2ZXMvbmV4dENhbGwvdHBsLmh0bWwnXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbn0pKCk7IiwiLy8gc2V0IGFuZ3VsYXIgbW9kdWxlIGFuZCBkZXBlbmRlbmN5XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbXlBcHAnLCBbJ3VpLmJvb3RzdHJhcCcsICd1aS5ib290c3RyYXAuZGF0ZXRpbWVwaWNrZXInXSlcbiAgICAuY29uc3RhbnQoJ0NPTlNUUycsIHtcbiAgICAgICAgVElNRUZJTFRFUjoge1xuICAgICAgICAgICAgQUxMOiAwLFxuICAgICAgICAgICAgRklOSVNIRUQ6IDEsXG4gICAgICAgICAgICBORVhUOiAyXG4gICAgICAgIH1cbiAgICB9KTtcblxuXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdteUFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdNYWluQ29udHJvbGxlcicsIE1haW5Db250cm9sbGVyKVxuICAgICAgICBcbiAgICAgICAgTWFpbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJ11cbiAgICAgICAgZnVuY3Rpb24gTWFpbkNvbnRyb2xsZXIoJHNjb3BlKSB7XG5cbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgICAgICAkc2NvcGUubmV4dENhbGwgPSB7fTtcbiAgICAgICAgICAgICRzY29wZS5jYWxsTGlzdCA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTYW0gVGFpbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgcGhvbmU6ICcwMDQyMCAxMjEgMjQyIDM0MycsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IDEyODgzMjM2MjMwMDZcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1RvbSBIZW5rcycsXG4gICAgICAgICAgICAgICAgICAgIHBob25lOiAnMDA0MjAgMTIxIDI0MiA1NTUnLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiAxMjQ4MzI5NjI2MDAyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHZtLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbG9jYWxEYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xpc3QnKTtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jYWxsTGlzdCA9IGFuZ3VsYXIuZnJvbUpzb24obG9jYWxEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdm0uZmluZE5leHRDYWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdm0uc2F2ZURhdGEgPSBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2FsbExpc3QucHVzaChlbnRyeSk7XG4gICAgICAgICAgICAgICAgdm0udXBkYXRlRGF0YSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdm0ucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGJ5IHRpbWUgYmVjb3VzZSBpdCBpcyB1bmlxdWUgZm9yIGVhY2ggZGF0YSBpdGVtXG4gICAgICAgICAgICAgICAgXy5yZW1vdmUoJHNjb3BlLmNhbGxMaXN0LCB7ICd0aW1lJzogdGltZSB9KTtcbiAgICAgICAgICAgICAgICB2bS51cGRhdGVEYXRhKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdm0udXBkYXRlRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGlzdCcsIGFuZ3VsYXIudG9Kc29uKCRzY29wZS5jYWxsTGlzdCkpO1xuICAgICAgICAgICAgICAgIHZtLmZpbmROZXh0Q2FsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdm0uZmluZE5leHRDYWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhbGxEYXRhID0gJHNjb3BlLmNhbGxMaXN0LFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgICAgICByZXN1bHQgPSBfLnNvcnRCeShhbGxEYXRhLCAndGltZScpOyAvLyBmaXJzdGx5IHNvcnQgYWxsIGRhdGEgYnkgdGltZVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF8uZmluZChyZXN1bHQsIGZ1bmN0aW9uIChpdGVtKSB7ICAvLyB0aGVuIGZpbmQgZmlyc3QgbmVhciBmdXR1cmUgaXRlbVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS50aW1lID49IGN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5leHRDYWxsID0gcmVzdWx0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpbml0IGFwcFxuICAgICAgICAgICAgdm0ucmVuZGVyKCk7XG4gICAgICAgIH1cblxufSkoKTtcbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdteUFwcCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2FkZENhbGxGb3JtJywgYWRkQ2FsbEZvcm0pO1xuXG4gICAgZnVuY3Rpb24gYWRkQ2FsbEZvcm0oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9kaXJlY3RpdmVzL2FkZENhbGwvdHBsLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ01haW5Db250cm9sbGVyJyxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm5hbWUgPSAnJztcbiAgICAgICAgICAgICAgICAkc2NvcGUubmFtZU1heExlbmd0aCA9IDMwO1xuICAgICAgICAgICAgICAgICRzY29wZS5waG9uZSA9ICcnO1xuICAgICAgICAgICAgICAgICRzY29wZS5waG9uZVBhdHRlcm4gPSAnKFxcXFwrfDAwKShcXFxcKD9cXFxcZHszfVxcXFwpPy0/KShcXFxccz9cXFxcZHszfSl7M30nO1xuXG4gICAgICAgICAgICAgICAgLy8gdGltZVBpY2tlciBwYXJhbXNcbiAgICAgICAgICAgICAgICAkc2NvcGUudGltZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRpbWVQaWNrZXJJc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUudGltZVBhdHRlcm4gPSAnKFswMV1cXFxcZHwyWzAtM10pOj8oWzAtNV1cXFxcZCknO1xuICAgICAgICAgICAgICAgICRzY29wZS50aW1lT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFRpbWU6ICcxMTowMDoyMicsXG4gICAgICAgICAgICAgICAgICAgICdyZWFkb25seS1pbnB1dCc6IHRydWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICRzY29wZS5kYXRlT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdERhdGU6IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICRzY29wZS5vcGVuQ2FsZW5kYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS50aW1lUGlja2VySXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIGFkZCB3YXRjaGVyIHRvIHNvbHZlIHByb2JsZW0gd2l0aCBpbmNvcmVjdCB0aW1lLCBhbmQgc2V0IGFsd2F5cyB0b2RheSBkYXRlXG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiAkc2NvcGUudGltZTsgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlID09IG51bGwgJiYgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG9sZFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9kYXkuc2V0SG91cnMoZGF0ZS5nZXRIb3VycygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2RheS5zZXRNaW51dGVzKGRhdGUuZ2V0TWludXRlcygpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50aW1lID0gdG9kYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vZW5kIHRpbWVQaWNrZXIgcGFyYW1zXG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkQ2FsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0NhbGwgPSB7fTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm5hbWUgJiYgJHNjb3BlLnBob25lICYmICRzY29wZS50aW1lKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5waG9uZSA9ICRzY29wZS5jb252ZXJ0UGhvbmUoJHNjb3BlLnBob25lKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2FsbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG9uZTogJHNjb3BlLnBob25lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6ICRzY29wZS50aW1lLmdldFRpbWUoKSAvL3BhcnNlIGRhdGUgdG8gc3RvcmUgaW4gbWlsaXNlY29uZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuc2F2ZURhdGEobmV3Q2FsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9yZXNldCBmaWVsZHMgZGF0YVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGhvbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRpbWUgPSAnJztcblxuICAgICAgICAgICAgICAgICAgICAvL3Jlc2V0IGZvcm0gdmFsaWRhdGlvblxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkQ2FsbEZvcm0uJHNldFByaXN0aW5lKCk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRDYWxsRm9ybS4kc2V0VmFsaWRpdHkoKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZENhbGxGb3JtLiRzZXRVbnRvdWNoZWQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuY29udmVydFBob25lID0gZnVuY3Rpb24gKHBob25lX251bWJlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcGhvbmVfbnVtYmVyO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vY29udmVydCB0byB0aGlzIGxpbmUgMDBYWFggWFhYIFhYWCBYWFhcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1xcKHxcXCl8LXwgL2csIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvXFwrL2csIFwiMDBcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5zbGljZSgwLCA1KSArICcgJyArIHJlc3VsdC5zbGljZSg1LCA4KSArICcgJyArIHJlc3VsdC5zbGljZSg4LCAxMSkgKyAnICcgKyByZXN1bHQuc2xpY2UoMTEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbXlBcHAnKVxuICAgICAgICAuZGlyZWN0aXZlKCdjYWxsTGlzdCcsIGNhbGxMaXN0RGlyZWN0aXZlKTtcbiAgICAgICAgXG4gICAgICAgIGNhbGxMaXN0RGlyZWN0aXZlLiRpbmplY3QgPSBbJ0NPTlNUUyddO1xuICAgICAgICBmdW5jdGlvbiBjYWxsTGlzdERpcmVjdGl2ZShDT05TVFMpe1xuICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL2RpcmVjdGl2ZXMvY2FsbExpc3QvdHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUpIHtcblxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJlZGljYXRlID0gJ3RpbWUnO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3JkZXIgPSBmdW5jdGlvbiAocHJlZGljYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9ICgkc2NvcGUucHJlZGljYXRlID09PSBwcmVkaWNhdGUpICYmICEkc2NvcGUucmV2ZXJzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRpbWVJblBhc3QgPSBmdW5jdGlvbiAodGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aW1lIDw9IGN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGltZVZpZXdGaWx0ZXJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRpbWVGaWx0ZXIgPSBDT05TVFMuVElNRUZJTFRFUi5BTEw7IC8vIGFsc28gY2FuIGJlIGZ1dHVyZSBvciBwYXN0XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRUaW1lRmlsdGVyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGltZUZpbHRlciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG9vZ2xlVmlldyA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRmlsdGVyID0gJHNjb3BlLnRpbWVGaWx0ZXI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhKCh0aW1lRmlsdGVyID09PSBDT05TVFMuVElNRUZJTFRFUi5GSU5JU0hFRCAmJiB0aW1lID49IGN1cnJlbnRUaW1lKSB8fCAvLyBmb3IgZmluaXNoZWQgZmlsdGVyIHdlIGhpZGUgZnV0dXJlIGl0ZW1zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRpbWVGaWx0ZXIgPT09IENPTlNUUy5USU1FRklMVEVSLk5FWFQgJiYgdGltZSA8IGN1cnJlbnRUaW1lKSkgIC8vIGZvciBuZXh0IGZpbHRlciB3ZSB3aWxsIGRvIHJldmVydFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG59KSgpO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ215QXBwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnbmV4dENhbGwnLCBuZXh0Q2FsbCk7XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBuZXh0Q2FsbCgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL2RpcmVjdGl2ZXMvbmV4dENhbGwvdHBsLmh0bWwnXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbn0pKCk7XG5hbmd1bGFyLm1vZHVsZSgnbXlBcHAnKS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7JHRlbXBsYXRlQ2FjaGUucHV0KCdqcy9kaXJlY3RpdmVzL2FkZENhbGwvdHBsLmh0bWwnLCc8ZGl2IGNsYXNzPVwiaXRlbSBhZGQtaXRlbVwiPlxcbiAgICA8aDMgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPkFkZCBjYWxsPC9oMz5cXG4gICAgPGZvcm0gbmFtZT1cImFkZENhbGxGb3JtXCIgZGF0YS1uZy1zdWJtaXQ9XCJhZGRDYWxsKClcIiBub3ZhbGlkYXRlPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cIndyYXBwZXIgcm93XCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgY29sLW1kLTRcIj5cXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwic3Itb25seVwiIGZvcj1cImZpZWxkLTItMVwiPk5hbWUgKjwvbGFiZWw+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmctbW9kZWw9XCJuYW1lXCIgcGxhY2Vob2xkZXI9XCJOYW1lXCIgbmctbWF4bGVuZ3RoPVwibmFtZU1heExlbmd0aFwiIHJlcXVpcmVkPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yLW1lc3NhZ2VcIiBuZy1zaG93PVwiYWRkQ2FsbEZvcm0uJHN1Ym1pdHRlZCB8fCBhZGRDYWxsRm9ybS51c2VyTmFtZS4kdG91Y2hlZFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gbmctc2hvdz1cImFkZENhbGxGb3JtLnVzZXJOYW1lLiRlcnJvci5tYXhsZW5ndGhcIj5OYW1lIHNob3VsZCBub3QgYmUgbG9uZ2VyIHRoYW4ge3tuYW1lTWF4TGVuZ3RofX08L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIG5nLXNob3c9XCJhZGRDYWxsRm9ybS51c2VyTmFtZS4kZXJyb3IucmVxdWlyZWRcIj5FbnRlciBjb250YWN0IG5hbWU8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBjb2wtbWQtNVwiPlxcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJzci1vbmx5XCIgZm9yPVwiZmllbGQtMi0yXCI+UGhvbmUgKjwvbGFiZWw+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyUGhvbmVcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5nLW1vZGVsPVwicGhvbmVcIiBwbGFjZWhvbGRlcj1cIlBob25lXCIgbmctcGF0dGVybj1cInBob25lUGF0dGVyblwiIHJlcXVpcmVkPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yLW1lc3NhZ2VcIiBuZy1zaG93PVwiYWRkQ2FsbEZvcm0uJHN1Ym1pdHRlZCB8fCBhZGRDYWxsRm9ybS51c2VyUGhvbmUuJHRvdWNoZWRcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIG5nLXNob3c9XCJhZGRDYWxsRm9ybS51c2VyUGhvbmUuJGVycm9yLnBhdHRlcm5cIj5FeGFtcGxlIG9mIGNvcnJlY3QgcGhvbmU6IDxicj4rKDQyMCkgMTExIDIyMiAzMzM8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIG5nLXNob3c9XCJhZGRDYWxsRm9ybS51c2VyUGhvbmUuJGVycm9yLnJlcXVpcmVkXCI+RW50ZXIgcGhvbmU8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBjb2wtbWQtM1wiPlxcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJzci1vbmx5XCIgZm9yPVwidGltZXBpY2tlclwiPlRpbWUgKjwvbGFiZWw+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyVGltZVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJ0aW1lcGlja2VyXCIgcGxhY2Vob2xkZXI9XCJUaW1lXCIgbmctbW9kZWw9XCJ0aW1lXCIgbmctcGF0dGVybj1cInRpbWVQYXR0ZXJuXCJcXG4gICAgICAgICAgICAgICAgICAgIGRhdGV0aW1lLXBpY2tlcj1cIkhIOm1tXCIgaXMtb3Blbj1cInRpbWVQaWNrZXJJc09wZW5cIiBlbmFibGUtZGF0ZT1cImZhbHNlXCIgdGltZXBpY2tlci1vcHRpb25zPVwidGltZU9wdGlvbnNcIiBjbG9zZS1vbi1zZWxlY3Rpb249XCJ0cnVlXCJcXG4gICAgICAgICAgICAgICAgICAgIG5nLWNsaWNrPVwib3BlbkNhbGVuZGFyKClcIiByZXF1aXJlZD5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvci1tZXNzYWdlXCIgbmctc2hvdz1cImFkZENhbGxGb3JtLiRzdWJtaXR0ZWQgfHwgYWRkQ2FsbEZvcm0udXNlclRpbWUuJHRvdWNoZWRcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIG5nLXNob3c9XCJhZGRDYWxsRm9ybS51c2VyVGltZS4kZXJyb3IuZGF0ZXRpbWVcIj5FeGFwbGUgb2YgY29ycmVjdCB0aW1lOiAyMTo0NTwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIG5nLXNob3c9XCJhZGRDYWxsRm9ybS51c2VyVGltZS4kZXJyb3IucmVxdWlyZWRcIj5FbnRlciB0aW1lPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxwIGNsYXNzPVwidGV4dC1yaWdodFwiPlxcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIiB2YWx1ZT1cIisgYWRkXCIgaWQ9XCJhZGQtYnV0dG9uXCI+XFxuICAgICAgICA8L3A+XFxuICAgIDwvZm9ybT5cXG48L2Rpdj4nKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dCgnanMvZGlyZWN0aXZlcy9jYWxsTGlzdC90cGwuaHRtbCcsJzxkaXYgY2xhc3M9XCJpdGVtIGxpc3QtaXRlbVwiPlxcbiAgICA8aDMgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPkxpc3Qgb2YgY2FsbHM8L2gzPlxcbiAgICA8dGFibGUgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1ob3ZlclwiPlxcbiAgICAgICAgPHRoZWFkPlxcbiAgICAgICAgICAgIDx0ciBjbGFzcz1cImFjdGl2ZVwiPlxcbiAgICAgICAgICAgICAgICA8dGggbmctY2xpY2s9XCJvcmRlcihcXCduYW1lXFwnKVwiPlxcbiAgICAgICAgICAgICAgICAgICAgTmFtZVxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJlZGljYXRlID09PSBcXCduYW1lXFwnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTpyZXZlcnNlfVwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPC90aD5cXG4gICAgICAgICAgICAgICAgPHRoPlBob25lIE51bWJlcjwvdGg+XFxuICAgICAgICAgICAgICAgIDx0aCBuZy1jbGljaz1cIm9yZGVyKFxcJ3RpbWVcXCcpXCI+XFxuICAgICAgICAgICAgICAgICAgICBUaW1lXFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvcnRvcmRlclwiIG5nLXNob3c9XCJwcmVkaWNhdGUgPT09IFxcJ3RpbWVcXCdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOnJldmVyc2V9XCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8L3RoPlxcbiAgICAgICAgICAgICAgICA8dGg+QWN0aW9uPC90aD5cXG4gICAgICAgICAgICAgICAgPHRoPkZpbmlzaGVkPC90aD5cXG4gICAgICAgICAgICA8L3RyPlxcbiAgICAgICAgPC90aGVhZD5cXG4gICAgICAgIDx0Ym9keT5cXG4gICAgICAgICAgICA8dHIgbmctcmVwZWF0PVwiaXRlbSBpbiBjYWxsTGlzdCB8IG9yZGVyQnk6cHJlZGljYXRlOnJldmVyc2UgdHJhY2sgYnkgJGluZGV4XCIgbmctc2hvdz1cInRvb2dsZVZpZXcoaXRlbS50aW1lKVwiPlxcbiAgICAgICAgICAgICAgICA8dGQ+e3tpdGVtLm5hbWV9fTwvdGQ+XFxuICAgICAgICAgICAgICAgIDx0ZD57e2l0ZW0ucGhvbmV9fTwvdGQ+XFxuICAgICAgICAgICAgICAgIDx0ZD57e2l0ZW0udGltZSB8IGRhdGU6XFwnSEg6bW1cXCd9fTwvdGQ+XFxuICAgICAgICAgICAgICAgIDx0ZD48YSBocmVmPVwiXCIgbmctY2xpY2s9XCJNYWluQ3RybC5yZW1vdmVJdGVtKGl0ZW0udGltZSlcIj5kZWxldGU8L2E+PC90ZD5cXG4gICAgICAgICAgICAgICAgPHRkPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwidml3ZWRcIiBuZy1jaGVja2VkPVwidGltZUluUGFzdChpdGVtLnRpbWUpXCIgZGlzYWJsZWQgPjwvdGQ+XFxuICAgICAgICAgICAgPC90cj5cXG4gICAgICAgIDwvdGJvZHk+XFxuICAgIDwvdGFibGU+XFxuICAgIDxwIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cXG4gICAgICAgIDxhIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0XCIgaHJlZj1cIlwiIHJvbGU9XCJidXR0b25cIiB0aXRsZT1cImFsbFwiIG5nLWNsaWNrPVwic2V0VGltZUZpbHRlcihcXCdhbGxcXCcpXCI+QWxsPC9hPlxcbiAgICAgICAgPGEgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIiBocmVmPVwiXCIgcm9sZT1cImJ1dHRvblwiIHRpdGxlPVwibmV4dFwiIG5nLWNsaWNrPVwic2V0VGltZUZpbHRlcihcXCduZXh0XFwnKVwiPk5leHQ8L2E+XFxuICAgICAgICA8YSBjbGFzcz1cImJ0biBidG4tZGVmYXVsdFwiIGhyZWY9XCJcIiByb2xlPVwiYnV0dG9uXCIgdGl0bGU9XCJmaW5pc2hlZFwiIG5nLWNsaWNrPVwic2V0VGltZUZpbHRlcihcXCdmaW5pc2hlZFxcJylcIj5GaW5pc2hlZDwvYT5cXG4gICAgPC9wPlxcbjwvZGl2PicpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KCdqcy9kaXJlY3RpdmVzL25leHRDYWxsL3RwbC5odG1sJywnPGRpdiBjbGFzcz1cIml0ZW0gbmV4dC1pdGVtXCI+XFxuICAgIDxoMyBjbGFzcz1cInRleHQtY2VudGVyXCI+TmV4dCBjYWxsPC9oMz5cXG4gICAgPGZvcm0+XFxuICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgY29sLW1kLTRcIj5cXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwic3Itb25seVwiIGZvcj1cImZpZWxkLTEtMVwiPk5hbWU8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlci1uYW1lXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImZpZWxkLTEtMVwiIHZhbHVlPVwie3tuZXh0Q2FsbC5uYW1lfX1cIiBwbGFjZWhvbGRlcj1cIk5hbWVcIiByZWFkb25seT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBjb2wtbWQtNVwiPlxcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJzci1vbmx5XCIgZm9yPVwiZmllbGQtMS0yXCI+UGhvbmU8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlci1waG9uZVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJmaWVsZC0xLTJcIiB2YWx1ZT1cInt7bmV4dENhbGwucGhvbmV9fVwiIHBsYWNlaG9sZGVyPVwiUGhvbmVcIiByZWFkb25seT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBjb2wtbWQtM1wiPlxcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJzci1vbmx5XCIgZm9yPVwiZmllbGQtMS0zXCI+VGltZTwvbGFiZWw+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyLXRpbWVcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiZmllbGQtMS0zXCIgdmFsdWU9XCJ7e25leHRDYWxsLnRpbWUgfCBkYXRlOlxcJ0hIOm1tXFwnfX1cIiBwbGFjZWhvbGRlcj1cIlRpbWVcIiByZWFkb25seT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Zvcm0+XFxuXFxuPC9kaXY+Jyk7fV0pOyIsbnVsbF0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
